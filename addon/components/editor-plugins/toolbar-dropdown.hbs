{{#if this.showCard}}
  {{#if this.besluit.label}}
  <AuPill
    @skin="link"
    {{on "click" this.toggleCard}}>
    Besluit type: {{this.besluit.label}}
  </AuPill>
  {{else}}
  <AuPill
    @icon="alert-triangle"
    @skin="link"
    {{on "click" this.toggleCard}}>
    Voeg een besluittype in
  </AuPill>
  {{/if}}
{{/if}}
{{#if this.cardExpanded}}
  <AuModal
    @title={{if this.hasSelected "Geselecteerd besluittype:" "Voeg een besluittype in:"}}
    @closeModal={{this.toggleCard}}
    @modalOpen={{true}}
    @size='default'
    as |Modal|>
    <Modal.Body>
      <BesluitTypeSelect
        @besluitTypes={{this.types}}
        @onchange={{this.updateBesluitType}}
        @selected={{this.besluit}}
        @showWarningWhenEmpty={{false}}/>
      {{#if this.besluit.subTypes.length}}
        <AuHr @size="large"/>
        <BesluitTypeSelect
          @besluitTypes={{this.besluit.subTypes}}
          @onchange={{this.updateBesluitSubType}}
          @selected={{this.subBesluit}}
          @showWarningWhenEmpty={{true}}
          class="au-u-padding-left au-u-padding-right"/>
      {{/if}}
      {{#if this.subBesluit.subTypes.length}}
        <AuHr @size="large"/>
        <BesluitTypeSelect
          @besluitTypes={{this.subBesluit.subTypes}}
          @onchange={{this.updateBesluitSubSubType}}
          @selected={{this.subSubBesluit}}
          @showWarningWhenEmpty={{true}}
          class="au-u-padding-left au-u-padding-right"/>
      {{/if}}
    </Modal.Body>
  </AuModal>
{{/if}}
